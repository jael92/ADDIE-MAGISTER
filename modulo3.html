<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>M√≥dulo 3: Simulaci√≥n</title>
    <link rel="stylesheet" href="estilos.css">
    
    <style>
        /* ESTILOS PARA LAS DEFINICIONES LLAMATIVAS */
        .def-container {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        .def-card {
            flex: 1;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            color: #333;
            min-width: 250px;
        }
        .def-energia {
            background: linear-gradient(135deg, #f1c40f 0%, #f39c12 100%);
            color: white;
        }
        .def-trabajo {
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            color: white;
        }
        .def-card h3 {
            margin-top: 0;
            color: white;
            border-bottom: 2px solid rgba(255,255,255,0.3);
            padding-bottom: 10px;
        }

        /* ESTILOS PARA LA TABLA COMPARATIVA */
        .table-container {
            margin-top: 40px;
            overflow-x: auto;
        }
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .comparison-table th {
            background-color: #2c3e50;
            color: white;
            padding: 15px;
            text-align: left;
        }
        .comparison-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #ddd;
        }
        .comparison-table tr:last-child td {
            border-bottom: none;
        }
        .comparison-table tr:nth-child(even) {
            background-color: #f2f2f2;
        }

        /* ESTILOS DEL JUEGO (Mantenidos) */
        .simulador-container {
            font-family: 'Segoe UI', sans-serif;
            max-width: 100%;
            margin: 30px auto;
            padding: 20px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            background-color: #f9f9f9;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .controls {
            margin-bottom: 20px;
            background: #fff;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #ddd;
        }
        .slider-group { margin-bottom: 15px; }
        .slider-group label { display: block; font-weight: bold; margin-bottom: 5px; color: #2c3e50; }
        input[type=range] { width: 100%; cursor: pointer; }
        canvas { background-color: #fff; border: 1px solid #ccc; display: block; margin: 0 auto; max-width: 100%; }
        .result-box { text-align: center; margin-top: 15px; font-size: 1.2em; font-weight: bold; padding: 10px; border-radius: 5px; background-color: #eee; transition: background-color 0.3s; }
        .mission-status { font-size: 1em; color: #666; text-align: center; margin-bottom: 15px; background: #fff3cd; padding: 10px; border-radius: 5px; border: 1px solid #ffeeba; }
    </style>
</head>
<body>
    <nav>
        <a href="index.html">Inicio</a>
        <a href="modulo1.html">M√≥d 1</a>
        <a href="modulo2.html">M√≥d 2</a>
        <a href="modulo3.html" class="active">M√≥d 3</a>
        <a href="modulo4.html">Evaluaci√≥n</a>
    </nav>

    <div class="container">
        <h2>M√≥dulo 3: Laboratorios Virtuales</h2>

        <div class="def-container">
            <div class="def-card def-energia">
                <h3>‚ö° ¬øQu√© es la Energ√≠a?</h3>
                <p>Es la <strong>capacidad</strong> que tiene un cuerpo o sistema para realizar un trabajo o producir cambios (como movimiento, calor o luz).</p>
                <p><em>Unidad: Joules (J)</em></p>
            </div>
            <div class="def-card def-trabajo">
                <h3>üèóÔ∏è ¬øQu√© es el Trabajo?</h3>
                <p>En f√≠sica, no es ir a la oficina. Es la <strong>transferencia de energ√≠a</strong> que ocurre cuando aplicamos una fuerza para mover un objeto una distancia.</p>
                <p><em>F√≥rmula: W = Fuerza √ó Distancia</em></p>
            </div>
        </div>
        
        <h3>Actividad 1: Exploraci√≥n en PhET</h3>
        <p>Primero, visualiza c√≥mo interact√∫an las fuerzas.</p>
        <a href="https://phet.colorado.edu/es/simulation/forces-and-motion-basics" target="_blank" class="btn-nav" style="background: #e67e22; width: 100%; text-align: center; box-sizing: border-box; margin-bottom: 20px;">Abrir Simulador PhET</a>

        <hr style="margin: 40px 0; border: 0; border-top: 1px solid #ccc;">

        <h3>Actividad 2: El Desaf√≠o de Energ√≠a</h3>
        <p>Demuestra que puedes generar suficiente trabajo mec√°nico para cumplir la misi√≥n.</p>

        <div class="simulador-container">
            <h3 style="text-align: center; color: #2c3e50; margin-top:0;">Simulador: Fuerza vs. Desplazamiento</h3>
            <p class="mission-status">üöÄ <strong>Misi√≥n:</strong> Consigue entre <strong>800 y 1000 Joules</strong> para despegar.</p>
        
            <div class="controls">
                <div class="slider-group">
                    <label>Fuerza Aplicada (N): <span id="val-fuerza">0</span> N</label>
                    <input type="range" id="fuerza" min="0" max="100" value="0">
                </div>
                <div class="slider-group">
                    <label>Desplazamiento (m): <span id="val-distancia">0</span> m</label>
                    <input type="range" id="distancia" min="0" max="20" value="0">
                </div>
            </div>
        
            <canvas id="graficoCanvas" width="500" height="300"></canvas>
        
            <div id="resultado" class="result-box">Energ√≠a Transferida: 0 Joules</div>
            <div id="mensaje-pedagogico" style="text-align:center; margin-top:10px; font-style: italic; color:#d35400; font-weight: bold;"></div>
        </div>

        <div class="table-container">
            <h3 style="text-align: center; color: #2c3e50;">Resumen: Fuerza vs. Energ√≠a</h3>
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Caracter√≠stica</th>
                        <th>Fuerza (N)</th>
                        <th>Energ√≠a / Trabajo (J)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Definici√≥n</strong></td>
                        <td>Es una interacci√≥n (empuj√≥n o jal√≥n) que cambia el movimiento.</td>
                        <td>Es la capacidad almacenada o transferida para hacer cambios.</td>
                    </tr>
                    <tr>
                        <td><strong>¬øQu√© es?</strong></td>
                        <td>Vector (tiene direcci√≥n y sentido).</td>
                        <td>Escalar (es solo una cantidad, no tiene direcci√≥n).</td>
                    </tr>
                    <tr>
                        <td><strong>Unidad</strong></td>
                        <td>Newtons (N)</td>
                        <td>Joules (J)</td>
                    </tr>
                    <tr>
                        <td><strong>Ejemplo</strong></td>
                        <td>Empujar un auto averiado.</td>
                        <td>La gasolina del auto o el movimiento que adquiere.</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div style="display: flex; justify-content: space-between; margin-top: 30px;">
            <a href="modulo2.html" class="btn-nav">&larr; Anterior</a>
            <a href="modulo4.html" class="btn-nav">Ir a Evaluaci√≥n &rarr;</a>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('graficoCanvas');
        const ctx = canvas.getContext('2d');
        const sliderFuerza = document.getElementById('fuerza');
        const sliderDistancia = document.getElementById('distancia');
        const spanFuerza = document.getElementById('val-fuerza');
        const spanDistancia = document.getElementById('val-distancia');
        const divResultado = document.getElementById('resultado');
        const msgPedagogico = document.getElementById('mensaje-pedagogico');

        const escalaX = 20; 
        const escalaY = 2.5; 
        const origenX = 40;
        const origenY = 260;

        function dibujar() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            const F = parseInt(sliderFuerza.value);
            const d = parseInt(sliderDistancia.value);
            const W = F * d;

            spanFuerza.textContent = F;
            spanDistancia.textContent = d;
            divResultado.textContent = `Energ√≠a (Trabajo): ${W} Joules`;

            if (W >= 800 && W <= 1000) {
                divResultado.style.backgroundColor = "#d4edda"; 
                divResultado.style.color = "#155724";
                divResultado.textContent += " ‚úÖ ¬°OBJETIVO LOGRADO!";
            } else {
                divResultado.style.backgroundColor = "#eee"; 
                divResultado.style.color = "#333";
                if (W > 1000) {
                    divResultado.style.backgroundColor = "#f8d7da";
                    divResultado.style.color = "#721c24";
                    divResultado.textContent += " ‚ö†Ô∏è ¬°Demasiada energ√≠a!";
                }
            }

            if (d === 0 && F > 0) {
                msgPedagogico.textContent = "‚ö†Ô∏è ¬°OJO! Aplicas mucha fuerza, pero sin desplazamiento NO hay trabajo.";
            } else if (F === 0 && d > 0) {
                msgPedagogico.textContent = "Sin fuerza no hay transferencia de energ√≠a, solo inercia.";
            } else {
                msgPedagogico.textContent = "";
            }

            ctx.beginPath();
            ctx.strokeStyle = "#000";
            ctx.lineWidth = 2;
            ctx.moveTo(origenX, 10);
            ctx.lineTo(origenX, origenY);
            ctx.lineTo(canvas.width - 10, origenY);
            ctx.stroke();

            ctx.fillStyle = "#000";
            ctx.font = "12px Arial";
            ctx.fillText("Fuerza (N)", 10, 20);
            ctx.fillText("Desplazamiento (m)", canvas.width - 120, origenY + 30);

            if (d > 0 && F > 0) {
                ctx.fillStyle = "rgba(52, 152, 219, 0.6)";
                const anchoRect = d * escalaX;
                const altoRect = F * escalaY;
                ctx.fillRect(origenX, origenY - altoRect, anchoRect, altoRect);
                ctx.strokeRect(origenX, origenY - altoRect, anchoRect, altoRect);
                
                if (d > 2 && F > 10) {
                    ctx.fillStyle = "#fff";
                    ctx.font = "bold 14px Arial";
                    let textX = origenX + (anchoRect / 2) - 40;
                    if(textX < origenX) textX = origenX + 5;
                    ctx.fillText("ENERG√çA", textX, origenY - (altoRect / 2));
                }
            } else if (d === 0 && F > 0) {
                ctx.beginPath();
                ctx.strokeStyle = "red";
                ctx.lineWidth = 4;
                ctx.moveTo(origenX, origenY);
                ctx.lineTo(origenX, origenY - (F * escalaY));
                ctx.stroke();
            }
        }

        sliderFuerza.addEventListener('input', dibujar);
        sliderDistancia.addEventListener('input', dibujar);
        dibujar();
    </script>
</body>
</html>
